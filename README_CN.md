<p align="center">
  <img src="docs/assets/logo.png" alt="DB-Claude Logo" width="128" height="128">
</p>

<h1 align="center">DB-Claude</h1>

<p align="center">
  <strong>一款原生 macOS 数据库管理工具，采用 Swift 和 SwiftUI 构建</strong>
</p>

<p align="center">
  <a href="./README.md">English</a> | <a href="./README_CN.md">简体中文</a>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/平台-macOS%2015.7+-blue.svg" alt="Platform">
  <img src="https://img.shields.io/badge/Swift-5.0-orange.svg" alt="Swift">
  <img src="https://img.shields.io/badge/许可证-MIT-green.svg" alt="License">
  <img src="https://img.shields.io/badge/依赖-零-brightgreen.svg" alt="Dependencies">
</p>

---

## 核心特性

### 🎯 智能 SQL 编辑器

- **中文标点自动转换** - 输入中文标点（，。；：""''（）等）时自动转换为英文标点，再也不用担心 SQL 语法错误
- **SQL 语法高亮** - 关键字、函数、字符串、数字、注释等分颜色显示，代码更清晰
- **智能自动补全** - 输入时自动提示 SQL 关键字、内置函数、表名和字段名
- **关键字自动大写** - 输入 `select` 自动变成 `SELECT`，保持代码风格统一
- **SQL 格式化** - 一键美化 SQL 语句，自动添加换行和缩进
- **实时语法验证** - 编写时即时检测语法错误并给出修复建议
- **选中执行** - 选中部分 SQL 单独执行，调试更方便
- **EXPLAIN 查询** - 一键查看 SQL 执行计划，优化查询性能
- **字体大小调节** - 根据个人喜好调整编辑器字体大小
- **右键菜单** - 执行、格式化、复制为带转义的字符串等快捷操作

### 📊 表数据浏览器

- **分页加载** - 支持 20/50/100/200 条每页，大表也能流畅浏览
- **点击排序** - 点击列标题一键排序（升序/降序）
- **条件筛选** - 支持等于、不等于、大于、小于、LIKE、IS NULL 等多种筛选条件
- **可视化编辑** - 直接编辑单元格内容，预览生成的 SQL 后再执行，安全可控

### 🗄️ 多数据库支持

| 数据库 | 状态 |
|--------|------|
| SQLite | ✅ 完整支持 |
| MySQL | 🚧 开发中 |
| PostgreSQL | 📋 规划中 |

### 💻 原生体验

- **零第三方依赖** - 纯系统框架实现，体积小、性能高
- **现代化 UI** - 基于 SwiftUI 的三栏布局设计，符合 macOS 设计规范
- **多标签页** - 同时打开多个查询和表结构标签页
- **查询历史** - 自动记录执行过的 SQL 语句，随时回溯

## 快捷键

| 功能 | 快捷键 |
|------|--------|
| 执行 SQL | `⌘ + Enter` |
| 格式化 SQL | `⌘ + Shift + F` |
| 自动补全 | `Tab` |
| 取消补全 | `Esc` |

## 技术栈

| 组件 | 技术 |
|------|------|
| 语言 | Swift 5.0 |
| UI 框架 | SwiftUI |
| 数据持久化 | SwiftData |
| 最低部署目标 | macOS 15.7 |

## 截图

*待添加*

## 快速开始

### 环境要求

- macOS 15.7+
- Xcode 16.0+

### 构建

```bash
# 命令行构建
xcodebuild -project DB-Claude.xcodeproj -scheme DB-Claude -configuration Debug build

# 或直接在 Xcode 中打开
open DB-Claude.xcodeproj
```

## 架构

项目采用 MVVM 分层架构：

```
┌─────────────────────────────────────────────────────────────┐
│                    Views (SwiftUI)                          │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐       │
│  │ 侧边栏   │ │  查询    │ │  结果    │ │  历史    │       │
│  │  视图    │ │  编辑器  │ │  网格    │ │  面板    │       │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘       │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│              ViewModels (@Observable)                        │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  TabManager: 管理工作区标签页和选中状态               │   │
│  └──────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                    Models (@Model)                           │
│  ┌──────────────────────┐ ┌──────────────────────────┐      │
│  │     Connection       │ │      QueryHistory        │      │
│  │   SwiftData 持久化   │ │   sql, 时间戳, 状态等    │      │
│  └──────────────────────┘ └──────────────────────────┘      │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                   Drivers (协议)                             │
│  ┌──────────────────────┐ ┌──────────────────────────┐      │
│  │    SQLiteDriver      │ │      MySQLDriver         │      │
│  │   SQLite3 C API      │ │       开发中             │      │
│  └──────────────────────┘ └──────────────────────────┘      │
└─────────────────────────────────────────────────────────────┘
```

详细架构说明请参考 [CLAUDE.md](./CLAUDE.md)。

## 开发路线图

- [x] 阶段一：UI 骨架、连接管理、SQLite 驱动
- [x] 阶段二：多标签页、SQL 编辑器、结果网格
- [x] 阶段三：历史记录、快捷键
- [ ] 阶段四：AI 智能体集成、NL2SQL

## 参与贡献

欢迎提交 Pull Request！

## 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件。
